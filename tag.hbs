{{!--
This template is used for the tag page.
--}}

{{!-- This block preloads specific assets for the tag page --}}
{{#contentFor "preload"}}
  <link rel="preload" href="{{asset "css/listing.css"}}" as="style" />
{{/contentFor}}

{{!-- This block loads specific styles for the tag page --}}
{{#contentFor "styles"}}
  <link rel="stylesheet" type="text/css" href="{{asset "css/listing.css"}}" media="screen" />
{{/contentFor}}

{{!-- The tag below means: insert everything in this file
into the {body} of the default.hbs template --}}
{{!< default}}

{{!-- Special header.hbs partial to generate the <header> tag --}}
{{#tag}}
  {{> header background=feature_image}}
{{/tag}}

<main class="main-wrap">
  {{!-- Everything inside the #tag tags pulls data from the tag --}}
  {{#tag}}
    {{!-- Inject styles of the hero image to make it responsive --}}
    {{> hero background=feature_image}}
    <div class="m-hero__content">
      <h1 class="m-hero-title bigger">{{name}}</h1>
      {{#if description}}
        <p class="m-hero-description">
          {{description}}
        </p>
      {{/if}}
    </div>
    </section>
  {{/tag}}

  <div class="l-content">
    <div class="l-wrapper">
      <div class="l-grid centered">
        <ul>
          {{#foreach posts}}
            <div class="{{post_class}}">
              <div class="m-article-card__info-link">
                <div class="m-article-card__timestamp archive-card">
                  <li style="list-style-type: none;">
                    <a href="{{url}}" aria-label="{{title}}">
                      <h2 style="color:var(--link-color); font-size: 2em;" class="m-article-card__title js-article-card-title" title="{{title}}">
                        <u>{{title}}</u>
                        {{#has tag="micro"}}
                          <small style="font-size:0.6em;color:var(--primary-foreground-color);">â€”{{date published_at format="YYYY-MM-DD"}}</small>
                        {{/has}}
                      </h2>
                    </a>
                  </li>
                </div>
              </div>
            </div>
          {{/foreach}}
        </ul>
      </div>
    </div>
  </div>
</main>
