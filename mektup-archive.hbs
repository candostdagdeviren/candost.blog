{{!--
This template is used for the index page.
It can be used also as the home page or the default page.
--}}

{{!-- This block preloads specific assets for the index page --}}
{{#contentFor "preload"}}
  <link rel="preload" href="{{asset "css/home.css"}}" as="style" />
  <link rel="preload" href="{{asset "css/listing.css"}}" as="style" />
{{/contentFor}}

{{!-- This block loads specific styles for the index page --}}
{{#contentFor "styles"}}
  <link rel="stylesheet" type="text/css" href="{{asset "css/home.css"}}" media="screen" />
  <link rel="stylesheet" type="text/css" href="{{asset "css/listing.css"}}" media="screen" />
{{/contentFor}}

{{!-- The tag below means: insert everything in this file
into the {body} of the default.hbs template --}}
{{!< default}}

{{!-- Special header.hbs partial to generate the <header> tag --}}
{{> header background=@site.cover_image}}

<main class="main-wrap">
  <section class="m-hero no-picture" style="background-color: var(--background-color);">
    <div class="m-hero__content">
      <h1 class="m-hero-title bigger">Mektup</h1>
      <p class="m-hero-description bigger">Casual letters reflecting my learnings and thoughts about software engineering leadership and life, arriving every second Tuesday.</b></p>
      <br \>
      <p style="font-size:0.8em">I also send notifications of my irregular blog posts and podcast episodes. You can unsubscribe from any of them separately whenever you want.</p>
    </div>
  </section>
  <div class="l-content">
    <div class="subscribe-form" style="padding: 0px 10px 0px;">
      <div class="m-newsletter">
        <form data-members-form="subscribe" id="newsletter-form" class="m-subscribe-section__container">
          <div class="m-subscribe__form">
            <div class="pos-relative">
              <label for="newsletter-input" class="sr-only">{{t "Your email address"}}</label>
              <input data-members-email id="newsletter-input" class="m-input in-subscribe-section" type="email"
                placeholder="{{t "Your email address"}}" required />
            </div>
            <button id="newsletter-button" class="m-button primary block" type="submit">Let's grow!</button>
          </div>
          <div class="m-subscribe__success">
            <header class="m-heading no-margin">
              <img src="{{asset "images/success.png"}}" alt="Success!" class="m-subscribe__success_icon">
              <p class="m-heading__description in-newsletter-form">
                {{t "Now check your inbox and click the link to confirm your subscription."}}
              </p>
            </header>
          </div>
          <p class="m-subscribe__invalid m-small-text">
            {{t "Please enter a valid email address"}}
          </p>
          <p class="m-subscribe__error m-small-text">
            {{t "Oops! There was an error sending the email, please try later."}}
          </p>
        </form>
        <p style="font-size:0.8em">No spam. No noise. I don't share your email with anyone. Unsubscribe at any time.</p>
      </div>
    </div>
    <div class="l-wrapper">
      <div class="centered">
        <ul>
        {{#foreach posts}}
          <div class="{{post_class}}">
            <div class="m-article-card__info-link">
              <div class="m-article-card__timestamp archive-card">
                <li style="list-style-type: none;">
                  <a href="{{url}}" aria-label="{{title}}">
                    <h2 style="color:var(--link-color); font-size: 2em;" class="m-article-card__title js-article-card-title" title="{{title}}">
                      <u>{{title}}</u>
                      <small style="font-size:0.6em;color:var(--primary-foreground-color);">â€”{{date published_at}}</small>
                    </h2>
                  </a>
                </li>
              </div>
            </div>
          </div>
        {{/foreach}}
        </ul>
      </div>
    </div>
  </div>
</main>