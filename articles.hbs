{{!--
This template is used for the index page.
It can be used also as the home page or the default page.
--}}

{{!-- This block preloads specific assets for the index page --}}
{{#contentFor "preload"}}
  <link rel="preload" href="{{asset "css/home.css"}}" as="style" />
  <link rel="preload" href="{{asset "css/listing.css"}}" as="style" />
{{/contentFor}}

{{!-- This block loads specific styles for the index page --}}
{{#contentFor "styles"}}
  <link rel="stylesheet" type="text/css" href="{{asset "css/home.css"}}" media="screen" />
  <link rel="stylesheet" type="text/css" href="{{asset "css/listing.css"}}" media="screen" />
{{/contentFor}}

{{!-- The tag below means: insert everything in this file
into the {body} of the default.hbs template --}}
{{!< default}}

{{!-- Special header.hbs partial to generate the <header> tag --}}
{{> header background=@site.cover_image}}

<main class="main-wrap">
  <section class="m-hero no-picture" style="background-color: var(--background-color);">
    <div class="m-hero__content">
      <h1 class="m-hero-title bigger">All Articles</h1>
      <p class="m-hero-description bigger">I write <b>every day</b>. I write about intriguing ideas in life, leadership, software engineering, and software organizational challenges. These articles record my thoughts to make sense of the complicated world.</p>
      <p>If you would like to get these articles in your inbox, subscribe right here:</p>
    </div>
  </section>
  <div class="l-content">
    <div class="subscribe-form" style="padding: 0px 10px 0px;">
      <div class="m-newsletter">
        <form data-members-form="subscribe" id="newsletter-form" class="m-subscribe-section__container">
          <div class="m-subscribe__form">
            <div class="pos-relative">
              <label for="newsletter-input" class="sr-only">{{t "Your email address"}}</label>
              <input data-members-email id="newsletter-input" class="m-input in-subscribe-section" type="email"
                placeholder="{{t "Your email address"}}" required />
            </div>
            <button id="newsletter-button" class="m-button primary block" type="submit">{{t "Subscribe"}}</button>
          </div>
          <div class="m-subscribe__success">
            <header class="m-heading no-margin">
              <img src="{{asset "images/success.png"}}" alt="Success!" class="m-subscribe__success_icon">
              <p class="m-heading__description in-newsletter-form">
                {{t "Now check your inbox and click the link to confirm your subscription."}}
              </p>
            </header>
          </div>
          <p class="m-subscribe__invalid m-small-text">
            {{t "Please enter a valid email address"}}
          </p>
          <p class="m-subscribe__error m-small-text">
            {{t "Oops! There was an error sending the email, please try later."}}
          </p>
        </form>
        <p style="font-size:0.8em">No spam. No noise. I don't share your email with anyone.</p>
      </div>
    </div>
    <div class="l-wrapper">
      <div class="centered">
        <ul>
          {{#foreach posts}}
            <article class="{{post_class}}">
              <div class="m-article-card__info-link">
                <div class="m-article-card__timestamp archive-card">
                  <li style="list-style-type: none;">
                    <a href="{{url}}" aria-label="{{title}}">
                      <h2 style="color:var(--link-color); font-size: 2em;" class="m-article-card__title js-article-card-title" title="{{title}}">
                        <u>{{title}}</u>
                      </h2>
                    </a>
                  </li>
                </div>
              </div>
            </article>
          {{/foreach}}
        </ul>
      </div>
    </div>
  </div>
</main>

